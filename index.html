<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title>Qur’an Pro | Urdu Audio</title>
  <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;700&family=Inter:wght@300;500&display=swap" rel="stylesheet">
  
  <style>
    * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }

    :root {
      --gold: #d4af37;
      --deep-blue: #0f172a;
      --black: #050505;
      --card-bg: #111111;
      --text-main: #ffffff;
    }

    body {
      background: var(--black);
      color: var(--text-main);
      font-family: 'Inter', sans-serif;
      margin: 0; padding: 0; width: 100%;
      overflow-x: hidden;
    }

    /* --- Splash Screen --- */
    #splash-screen {
      position: fixed;
      inset: 0;
      background: radial-gradient(circle, var(--deep-blue), var(--black));
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      z-index: 10000; /* Higher priority */
      transition: opacity 0.6s ease;
    }

    .splash-logo {
      font-family: 'Cinzel', serif;
      color: var(--gold);
      font-size: clamp(2rem, 8vw, 3.5rem);
      letter-spacing: 6px;
      margin-bottom: 20px;
      animation: pulse 2s infinite ease-in-out;
    }

    .loader-line {
      width: 120px; height: 2px;
      background: rgba(212, 175, 55, 0.2);
      position: relative; overflow: hidden;
    }

    .loader-line::after {
      content: ''; position: absolute; left: -100%;
      width: 100%; height: 100%;
      background: var(--gold);
      animation: loading 1.5s infinite;
    }

    /* --- Header --- */
    header {
      width: 100%; padding: 30px 15px;
      text-align: center;
      background: linear-gradient(to bottom, #1e3a8a33, transparent);
      border-bottom: 1px solid rgba(212, 175, 55, 0.1);
    }

    h1 { font-family: 'Cinzel', serif; color: var(--gold); margin: 0; letter-spacing: 3px; }

    .subtitle {
      color: var(--gold); font-size: 0.85rem; letter-spacing: 2px;
      margin: 5px 0 20px 0; opacity: 0.8; font-weight: 300;
    }

    .search-container { width: 100%; max-width: 450px; margin: 0 auto; }

    #searchBar {
      width: 100%; padding: 12px 20px; border-radius: 25px;
      border: 1px solid rgba(212, 175, 55, 0.3);
      background: rgba(255, 255, 255, 0.05); color: white;
      font-size: 16px; outline: none;
    }

    /* --- List --- */
    #surah-list {
      display: grid; grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
      gap: 12px; padding: 20px; max-width: 1200px; margin: 0 auto;
      padding-bottom: 160px;
    }

    .surah-card {
      background: var(--card-bg); padding: 15px 20px; border-radius: 10px;
      border: 1px solid #1a1a1a; cursor: pointer; display: flex; align-items: center;
    }

    .surah-num { color: var(--gold); font-family: 'Cinzel', serif; margin-right: 15px; width: 25px; }

    /* --- Player Bar --- */
    #player-bar {
      position: fixed; bottom: -180px; left: 50%;
      transform: translateX(-50%); width: calc(100% - 30px);
      max-width: 600px; background: rgba(15, 15, 15, 0.98);
      backdrop-filter: blur(15px); border: 1px solid var(--gold);
      border-radius: 20px; padding: 15px; display: flex;
      flex-direction: column; align-items: center; gap: 10px;
      box-shadow: 0 10px 40px rgba(0,0,0,0.8);
      transition: bottom 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
      z-index: 999;
    }

    #player-bar.active { bottom: 20px; }

    .player-info { text-align: center; }
    .player-info small { color: var(--gold); font-size: 10px; letter-spacing: 1px; }
    .player-info h4 { margin: 2px 0; font-size: 14px; }

    audio { width: 100%; height: 35px; filter: invert(1) hue-rotate(180deg) brightness(1.4); }

    @keyframes pulse { 0%, 100% { opacity: 0.6; } 50% { opacity: 1; } }
    @keyframes loading { 0% { left: -100%; } 100% { left: 100%; } }
  </style>
</head>

<body>

<div id="splash-screen">
  <div class="splash-logo">AL-QUR’AN</div>
  <div class="loader-line"></div>
</div>

<header>
  <h1>Al Qur'an</h1>
  <p class="subtitle">Sheikh Yasser Al Dossari With Urdu Voice</p>
  <div class="search-container">
    <input type="text" id="searchBar" placeholder="Search Surah..." onkeyup="filterSurahs()">
  </div>
</header>

<div id="surah-list"></div>

<div id="player-bar">
  <div class="player-info">
    <small>NOW PLAYING</small>
    <h4 id="current-title">Select a Surah</h4>
  </div>
  <audio id="main-audio" controls>
    <source id="audio-source" src="" type="audio/mpeg">
  </audio>
</div>

<script>
const baseURL = "https://archive.org/download/TheholyQuranUrduYasserAlDossari/";
const surahs = ["Al Fatiha","Al Baqarah","Al Imran","An Nisa","Al Ma'idah","Al An'am","Al A'raf","Al Anfal","At Tawbah","Yunus","Hud","Yusuf","Ar Rad","Ibrahim","Al Hijr","An Nahl","Al Isra","Al Kahf","Maryam","Ta Ha","Al Anbiya","Al Hajj","Al Mu'minun","An Nur","Al Furqan","Ash Shu'ara","An Naml","Al Qasas","Al Ankabut","Ar Rum","Luqman","As Sajda","Al Ahzab","Saba","Fatir","Ya Sin","As Saffat","Sad","Az Zumar","Ghafir","Fussilat","Ash Shuura","Az Zukhruf","Ad Dukhan","Al Jathiya","Al Ahqaf","Muhammad","Al Fath","Al Hujurat","Qaf","Adh Dhariyat","At Tur","An Najm","Al Qamar","Ar Rahman","Al Waqia","Al Hadid","Al Mujadila","Al Hashr","Al Mumtahina","As Saff","Al Jumu'a","Al Munafiqun","At Taghabun","At Talaq","At Tahrim","Al Mulk","Al Qalam","Al Haqqa","Al Ma'arij","Nuh","Al Jin","Al Muzzammil","Al Mudathir","Al Qiyama","Al Insan","Al Mursalat","An Naba","An Nazi'at","Abasa","At Takwir","Al Infitar","Al Mutaffifin","Al Inshiqaq","Al Buruj","At Tariq","Al Ala","Al Ghashiya","Al Fajr","Al Balad","Ash Shams","Al Layl","Ad Duha","Al Sharh","At Tin","Al Alaq","Al Qadr","Al Bayyina","Az Zalzala","Al Adiyat","Al Qaria","At Takathur","Al Asr","Al Humaza","Al Fil","Quraysh","Al Ma'un","Al Kauthar","Al Kafirun","An Nasr","Al Masad","Al Ikhlas","Al Falaq","An Nas"];

const container = document.getElementById("surah-list");
const playerBar = document.getElementById("player-bar");
const audio = document.getElementById("main-audio");
const audioSource = document.getElementById("audio-source");
const currentTitleText = document.getElementById("current-title");

// --- WEBVIEW OPTIMIZED SPLASH HIDER ---
function hideSplash() {
  const splash = document.getElementById('splash-screen');
  if (splash) {
    splash.style.opacity = '0';
    setTimeout(() => {
      splash.style.display = 'none';
    }, 600);
  }
}

// Trigger on load or after 3 seconds backup
window.onload = () => setTimeout(hideSplash, 500);
setTimeout(hideSplash, 3000); 

// Build List
surahs.forEach((name, index) => {
  const number = String(index + 1).padStart(3, "0");
  const card = document.createElement("div");
  card.className = "surah-card";
  card.setAttribute("data-name", name.toLowerCase());
  card.onclick = () => {
    audioSource.src = `${baseURL}${number}%20${encodeURIComponent(name)}.mp3`;
    currentTitleText.textContent = `${index + 1}. ${name}`;
    audio.load();
    audio.play();
    playerBar.classList.add("active");
  };
  card.innerHTML = `<div class="surah-num">${index + 1}</div><div>${name}</div>`;
  container.appendChild(card);
});

function filterSurahs() {
  const query = document.getElementById('searchBar').value.toLowerCase();
  document.querySelectorAll('.surah-card').forEach(card => {
    card.style.display = card.getAttribute('data-name').includes(query) ? 'flex' : 'none';
  });
}
</script>

</body>
</html>
